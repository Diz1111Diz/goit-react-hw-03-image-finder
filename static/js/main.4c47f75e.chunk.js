(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{22:function(e,t,a){e.exports=a(68)},27:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),l=a.n(o),c=(a(27),a(7)),s=a.n(c),i=a(8),m=a(19),u=a(3),g=a(4),p=a(5),h=a(6),d=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={name:""},e.inputChange=function(t){e.setState({name:t.target.value})},e.formSubmit=function(t){var a=e.state.name;t.preventDefault(),a&&(e.props.onSubmit(a),e.setState({name:""}))},e}return Object(g.a)(a,[{key:"render",value:function(){var e=this.state.name;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"Searchbar"},r.a.createElement("form",{className:"SearchForm",onSubmit:this.formSubmit},r.a.createElement("button",{type:"submit",className:"SearchForm-button"},r.a.createElement("span",{className:"SearchForm-button-label"},"Search")),r.a.createElement("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:e,onChange:this.inputChange}))))}}]),a}(n.Component),f=function(e){var t=e.image,a=e.openModal,n=t.webformatURL,o=t.largeImageURL,l=t.tags;return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"ImageGalleryItem"},r.a.createElement("img",{className:"ImageGalleryItem-image",src:n,alt:l,onClick:function(){return a(o,l)}})))},v=function(e){var t=e.images,a=e.openModal;return r.a.createElement("ul",{className:"ImageGallery"},t.map((function(e){return r.a.createElement(f,{key:e.id,image:e,openModal:a})})))},b=function(e){var t=e.largeImageUrl,a=e.tags,o=e.closeModal;Object(n.useEffect)((function(){return window.addEventListener("keydown",l),function(){window.removeEventListener("keydown",l)}}),[]);var l=function(e){"Escape"===e.code&&o()};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Overlay",onClick:function(e){"IMG"!==e.target.tagName&&o()}},r.a.createElement("div",{className:"Modal"},r.a.createElement("img",{src:t,alt:a}))))},E=function(e){var t=e.loadMore;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"Button",onClick:t},"Load more"))},y=a(20),S=a.n(y);a(50);function w(){return r.a.createElement(S.a,{type:"Oval",color:"#00BFFF",height:200,width:200,timeout:3e3,style:{marginTop:"10%"}})}var O=a(21),I=a.n(O),M=function(e,t){return I.a.get("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("15710546-4d802d844bffb0342b908b572","&lang=ru&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))},k=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={images:[],query:"",page:1,largeImageUrl:"",tags:"",loader:!1,error:!1,isOpen:!1},e.getImages=Object(m.a)(s.a.mark((function t(){var a,n,r,o,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,n=a.query,r=a.images,o=a.page,e.setState({loader:!0}),t.prev=2,t.next=5,M(n,o);case 5:l=t.sent,e.setState({images:[].concat(Object(i.a)(r),Object(i.a)(l)),page:o+1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:return t.prev=12,e.setState({loader:!1}),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[2,9,12,15]])}))),e.openModal=function(t,a){e.setState({tags:a,largeImageUrl:t,isOpen:!0})},e.closeModal=function(){e.setState({largeImageUrl:"",isOpen:!1})},e.onSubmit=function(t){e.state.query!==t&&e.setState({query:t,images:[],page:1})},e}return Object(g.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this.state,n=a.query,r=a.images;t.query!==n&&this.getImages(),t.images===r&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.isOpen,n=e.loader;return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{onSubmit:this.onSubmit}),n&&r.a.createElement(w,null),!n&&t.length>0&&r.a.createElement(v,{images:t,openModal:this.openModal}),a&&r.a.createElement(b,{closeModal:this.closeModal,largeImageUrl:this.state.largeImageUrl,tags:this.state.tags}),!!t.length&&!n&&r.a.createElement(E,{loadMore:this.getImages}))}}]),a}(n.Component);var F=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.4c47f75e.chunk.js.map