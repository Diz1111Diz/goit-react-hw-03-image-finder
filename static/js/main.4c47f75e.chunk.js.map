{"version":3,"sources":["Components/Searchbar/Searchbar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Modal/Modal.jsx","Components/Button/Button.jsx","Components/Loader/Loader.jsx","helpers/api.js","Container/ImageFinderContainer/ImageFinderContainer.js","App.js","index.js"],"names":["Searchbar","state","name","inputChange","e","setState","target","value","formSubmit","preventDefault","props","onSubmit","this","className","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","image","openModal","webformatURL","largeImageURL","tags","src","alt","onClick","ImageGallery","images","map","key","id","Modal","largeImageUrl","closeModal","useEffect","window","addEventListener","handelPressKey","removeEventListener","code","tagName","Button","loadMore","Loader","color","height","width","timeout","style","marginTop","fetchWithQuery","query","page","axios","get","process","then","response","data","hits","ImageFinderContainer","loader","error","isOpen","getImages","a","api","console","log","prevProps","prevState","scrollTo","top","document","documentElement","scrollHeight","behavior","length","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4c47f75e.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\n// import { toast } from \"react-toastify\";\n// import \"react-toastify/dist/ReactToastify.css\";\n// toast.configure();\n\nclass Searchbar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func,\n    name: PropTypes.string,\n    inputChange: PropTypes.func,\n  };\n\n  state = { name: \"\" };\n\n  inputChange = (e) => {\n    this.setState({ name: e.target.value });\n  };\n\n  formSubmit = (e) => {\n    const { name } = this.state;\n\n    e.preventDefault();\n    if (!name) {\n      return;\n    }\n    this.props.onSubmit(name);\n\n    this.setState({ name: \"\" });\n  };\n\n  render() {\n    const { name } = this.state;\n    return (\n      <>\n        <header className=\"Searchbar\">\n          <form className=\"SearchForm\" onSubmit={this.formSubmit}>\n            <button type=\"submit\" className=\"SearchForm-button\">\n              <span className=\"SearchForm-button-label\">Search</span>\n            </button>\n\n            <input\n              className=\"SearchForm-input\"\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search images and photos\"\n              value={name}\n              onChange={this.inputChange}\n            />\n          </form>\n        </header>\n      </>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGalleryItem = ({ image, openModal }) => {\n  const { webformatURL, largeImageURL, tags } = image;\n\n  return (\n    <>\n      <li className=\"ImageGalleryItem\">\n        <img\n          className=\"ImageGalleryItem-image\"\n          src={webformatURL}\n          alt={tags}\n          onClick={() => openModal(largeImageURL, tags)}\n        />\n      </li>\n    </>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string,\n  tags: PropTypes.string,\n  largeImageURL: PropTypes.string,\n  openModal: PropTypes.func,\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\n\nconst ImageGallery = ({ images, openModal }) => {\n  return (\n    <ul className=\"ImageGallery\">\n      {images.map((image) => (\n        <ImageGalleryItem key={image.id} image={image} openModal={openModal} />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst Modal = ({ largeImageUrl, tags, closeModal }) => {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handelPressKey);\n    return () => {\n      window.removeEventListener(\"keydown\", handelPressKey);\n    };\n  }, []);\n\n  const handelPressKey = (e) => {\n    if (e.code !== \"Escape\") {\n      return;\n    }\n    closeModal();\n  };\n\n  const handelDropClick = (e) => {\n    if (e.target.tagName === \"IMG\") {\n      return;\n    }\n    closeModal();\n  };\n\n  return (\n    <>\n      <div className=\"Overlay\" onClick={handelDropClick}>\n        <div className=\"Modal\">\n          <img src={largeImageUrl} alt={tags} />\n        </div>\n      </div>\n    </>\n  );\n};\n\nModal.propTypes = {\n  largeImageUrl: PropTypes.node.isRequired,\n  closeModal: PropTypes.func,\n};\n\nexport default Modal;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst Button = ({ loadMore }) => {\n  return (\n    <>\n      <button className=\"Button\" onClick={loadMore}>\n        Load more\n      </button>\n    </>\n  );\n};\n\nButton.propTypes = {\n  loadMore: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from \"react\";\nimport Spinner from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nexport default function Loader() {\n  return (\n    <Spinner\n      type=\"Oval\"\n      color=\"#00BFFF\"\n      height={200}\n      width={200}\n      timeout={3000}\n      style={{ marginTop: \"10%\" }}\n    />\n  );\n}\n","import axios from \"axios\";\r\n\r\nconst CLIENT_KEY = process.env.REACT_APP_CLIENT_KEY;\r\n\r\nconst fetchWithQuery = (query, page) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=${CLIENT_KEY}&lang=ru&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n\r\nexport default fetchWithQuery;\r\n","import React, { Component } from \"react\";\n\nimport Searchbar from \"../../Components/Searchbar/Searchbar\";\nimport ImageGallery from \"../../Components/ImageGallery/ImageGallery\";\nimport Modal from \"../../Components/Modal/Modal\";\nimport Button from \"../../Components/Button/Button\";\nimport Loader from \"../../Components/Loader/Loader\";\nimport api from \"../../helpers/api\";\n\nclass ImageFinderContainer extends Component {\n  state = {\n    images: [],\n    query: \"\",\n    page: 1,\n    largeImageUrl: \"\",\n    tags: \"\",\n    loader: false,\n    error: false,\n    isOpen: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query, images } = this.state;\n    if (prevState.query !== query) {\n      this.getImages();\n    }\n\n    if (prevState.images === images) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  }\n\n  getImages = async () => {\n    const { query, images, page } = this.state;\n\n    this.setState({ loader: true });\n\n    try {\n      const response = await api(query, page);\n      this.setState({ images: [...images, ...response], page: page + 1 });\n    } catch (error) {\n      console.log(error);\n    } finally {\n      this.setState({ loader: false });\n    }\n  };\n\n  openModal = (largeImageURL, tags) => {\n    this.setState({ tags: tags, largeImageUrl: largeImageURL, isOpen: true });\n  };\n\n  closeModal = () => {\n    this.setState({ largeImageUrl: \"\", isOpen: false });\n  };\n\n  onSubmit = (name) => {\n    const { query } = this.state;\n    if (query === name) return;\n    this.setState({ query: name, images: [], page: 1 });\n  };\n\n  render() {\n    const { images, isOpen, loader } = this.state;\n\n    return (\n      <>\n        <Searchbar onSubmit={this.onSubmit} />\n        {loader && <Loader />}\n        {!loader && images.length > 0 && (\n          <ImageGallery images={images} openModal={this.openModal} />\n        )}\n        {isOpen && (\n          <Modal\n            closeModal={this.closeModal}\n            largeImageUrl={this.state.largeImageUrl}\n            tags={this.state.tags}\n          />\n        )}\n        {!!images.length && !loader && <Button loadMore={this.getImages} />}\n      </>\n    );\n  }\n}\nexport default ImageFinderContainer;\n","import React from \"react\";\nimport \"./App\";\nimport ImageFinderContainer from \"./Container/ImageFinderContainer/ImageFinderContainer\";\nfunction App() {\n  return (\n    <>\n      <ImageFinderContainer />\n    </>\n  );\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}